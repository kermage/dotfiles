#!/bin/bash

cat > $HOME/gaftenv <<'EOL'
{{ if eq .chezmoi.os "linux" -}}
eval "$(pkgx --internal.use +{{ .packages.common | join " +" }})"

{{ end -}}
_SHELL=$(ps -{{ if eq .chezmoi.os "windows" }}s{{ end }}p $$ | tail -n 1 | awk '{print $4}')
_SHELL=$(basename ${_SHELL#-})

eval "$(starship init $_SHELL)"
eval "$(zoxide init $_SHELL)"
eval "$(fzf --$_SHELL)"
unset _SHELL


alias ls='eza --git --icons --classify --group-directories-first --time-style=long-iso --group'
alias cat='bat --style="full" --theme="Dracula"'
alias gl='git log --oneline --graph --decorate'

mkcd() { mkdir $1 && cd $1; }
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'

alias ga='git add'
alias gb='git branch'
alias gch='git checkout'
alias gcl='git clone'
alias gc='git commit'
gcm() { git commit -m "$*"; }
gcmp() { git commit -m "$*" && git push; }
alias gd='git diff'
alias gr='git remote'
alias gpu='git pull'
alias gp='git push'
alias gpd='git push origin develop'
alias gpm='git push origin main'
alias gs='git status'
alias gfs='git fetch && git status'
EOL
